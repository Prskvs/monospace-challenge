<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol.lst-kix_7hetn5n051zg-1.start{counter-reset:lst-ctn-kix_7hetn5n051zg-1 0}ol.lst-kix_bci3oiuwkgc-6.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-6 0}.lst-kix_dakvykoyedsh-3>li{counter-increment:lst-ctn-kix_dakvykoyedsh-3}ol.lst-kix_bci3oiuwkgc-0{list-style-type:none}.lst-kix_bci3oiuwkgc-3>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-3}ol.lst-kix_bci3oiuwkgc-1{list-style-type:none}.lst-kix_7hetn5n051zg-4>li{counter-increment:lst-ctn-kix_7hetn5n051zg-4}ol.lst-kix_bci3oiuwkgc-2{list-style-type:none}ol.lst-kix_bci3oiuwkgc-3{list-style-type:none}ol.lst-kix_dakvykoyedsh-6{list-style-type:none}ol.lst-kix_dakvykoyedsh-7.start{counter-reset:lst-ctn-kix_dakvykoyedsh-7 0}ol.lst-kix_bci3oiuwkgc-4{list-style-type:none}ol.lst-kix_dakvykoyedsh-5{list-style-type:none}ol.lst-kix_bci3oiuwkgc-5{list-style-type:none}ol.lst-kix_dakvykoyedsh-4{list-style-type:none}ol.lst-kix_bci3oiuwkgc-6{list-style-type:none}ol.lst-kix_dakvykoyedsh-3{list-style-type:none}ol.lst-kix_bci3oiuwkgc-7{list-style-type:none}ol.lst-kix_dakvykoyedsh-2{list-style-type:none}.lst-kix_dakvykoyedsh-4>li{counter-increment:lst-ctn-kix_dakvykoyedsh-4}ol.lst-kix_bci3oiuwkgc-8{list-style-type:none}ol.lst-kix_dakvykoyedsh-1{list-style-type:none}ol.lst-kix_dakvykoyedsh-0{list-style-type:none}.lst-kix_7hetn5n051zg-3>li{counter-increment:lst-ctn-kix_7hetn5n051zg-3}.lst-kix_bci3oiuwkgc-4>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-4}ol.lst-kix_dakvykoyedsh-8{list-style-type:none}ol.lst-kix_bci3oiuwkgc-3.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-3 0}ol.lst-kix_dakvykoyedsh-7{list-style-type:none}.lst-kix_bci3oiuwkgc-2>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-2}.lst-kix_bci3oiuwkgc-5>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-5}ol.lst-kix_7hetn5n051zg-7.start{counter-reset:lst-ctn-kix_7hetn5n051zg-7 0}.lst-kix_bci3oiuwkgc-5>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-5,lower-roman) ". "}.lst-kix_bci3oiuwkgc-6>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-6,decimal) ". "}.lst-kix_bci3oiuwkgc-7>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-7,lower-latin) ". "}.lst-kix_bci3oiuwkgc-8>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-8,lower-roman) ". "}ol.lst-kix_7hetn5n051zg-4.start{counter-reset:lst-ctn-kix_7hetn5n051zg-4 0}ol.lst-kix_7hetn5n051zg-6.start{counter-reset:lst-ctn-kix_7hetn5n051zg-6 0}.lst-kix_bci3oiuwkgc-6>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-6}.lst-kix_dakvykoyedsh-6>li{counter-increment:lst-ctn-kix_dakvykoyedsh-6}.lst-kix_7hetn5n051zg-1>li{counter-increment:lst-ctn-kix_7hetn5n051zg-1}.lst-kix_dakvykoyedsh-1>li{counter-increment:lst-ctn-kix_dakvykoyedsh-1}.lst-kix_bci3oiuwkgc-0>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-0}ol.lst-kix_bci3oiuwkgc-1.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-1 0}.lst-kix_7hetn5n051zg-7>li{counter-increment:lst-ctn-kix_7hetn5n051zg-7}ol.lst-kix_dakvykoyedsh-8.start{counter-reset:lst-ctn-kix_dakvykoyedsh-8 0}.lst-kix_bci3oiuwkgc-4>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-4,lower-latin) ". "}ol.lst-kix_bci3oiuwkgc-8.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-8 0}.lst-kix_bci3oiuwkgc-2>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-2,lower-roman) ". "}.lst-kix_dakvykoyedsh-0>li{counter-increment:lst-ctn-kix_dakvykoyedsh-0}.lst-kix_bci3oiuwkgc-3>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-3,decimal) ". "}.lst-kix_7hetn5n051zg-6>li{counter-increment:lst-ctn-kix_7hetn5n051zg-6}.lst-kix_bci3oiuwkgc-0>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-0,decimal) ". "}ol.lst-kix_dakvykoyedsh-2.start{counter-reset:lst-ctn-kix_dakvykoyedsh-2 0}.lst-kix_dakvykoyedsh-7>li{counter-increment:lst-ctn-kix_dakvykoyedsh-7}.lst-kix_7hetn5n051zg-0>li{counter-increment:lst-ctn-kix_7hetn5n051zg-0}.lst-kix_bci3oiuwkgc-1>li:before{content:"" counter(lst-ctn-kix_bci3oiuwkgc-1,lower-latin) ". "}ol.lst-kix_7hetn5n051zg-0.start{counter-reset:lst-ctn-kix_7hetn5n051zg-0 0}ol.lst-kix_bci3oiuwkgc-0.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-0 0}ol.lst-kix_dakvykoyedsh-1.start{counter-reset:lst-ctn-kix_dakvykoyedsh-1 0}ol.lst-kix_bci3oiuwkgc-7.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-7 0}ol.lst-kix_7hetn5n051zg-6{list-style-type:none}ol.lst-kix_7hetn5n051zg-5{list-style-type:none}ol.lst-kix_7hetn5n051zg-8{list-style-type:none}ol.lst-kix_7hetn5n051zg-7{list-style-type:none}ol.lst-kix_dakvykoyedsh-3.start{counter-reset:lst-ctn-kix_dakvykoyedsh-3 0}ol.lst-kix_7hetn5n051zg-0{list-style-type:none}ol.lst-kix_dakvykoyedsh-0.start{counter-reset:lst-ctn-kix_dakvykoyedsh-0 0}ol.lst-kix_7hetn5n051zg-2{list-style-type:none}.lst-kix_dakvykoyedsh-0>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-0,decimal) ". "}ol.lst-kix_7hetn5n051zg-1{list-style-type:none}ol.lst-kix_7hetn5n051zg-4{list-style-type:none}ol.lst-kix_7hetn5n051zg-8.start{counter-reset:lst-ctn-kix_7hetn5n051zg-8 0}ol.lst-kix_7hetn5n051zg-3{list-style-type:none}ol.lst-kix_7hetn5n051zg-5.start{counter-reset:lst-ctn-kix_7hetn5n051zg-5 0}ol.lst-kix_bci3oiuwkgc-5.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-5 0}.lst-kix_dakvykoyedsh-5>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-5,lower-roman) ". "}.lst-kix_dakvykoyedsh-6>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-6,decimal) ". "}.lst-kix_dakvykoyedsh-4>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-4,lower-latin) ". "}.lst-kix_dakvykoyedsh-8>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-8,lower-roman) ". "}.lst-kix_dakvykoyedsh-1>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-1,lower-latin) ". "}.lst-kix_dakvykoyedsh-2>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-2,lower-roman) ". "}.lst-kix_dakvykoyedsh-3>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-3,decimal) ". "}.lst-kix_bci3oiuwkgc-8>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-8}ol.lst-kix_bci3oiuwkgc-2.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-2 0}ol.lst-kix_dakvykoyedsh-6.start{counter-reset:lst-ctn-kix_dakvykoyedsh-6 0}.lst-kix_dakvykoyedsh-7>li:before{content:"" counter(lst-ctn-kix_dakvykoyedsh-7,lower-latin) ". "}ol.lst-kix_bci3oiuwkgc-4.start{counter-reset:lst-ctn-kix_bci3oiuwkgc-4 0}.lst-kix_7hetn5n051zg-1>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-1,lower-latin) ". "}.lst-kix_7hetn5n051zg-0>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-0,decimal) ". "}.lst-kix_7hetn5n051zg-3>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-3,decimal) ". "}.lst-kix_7hetn5n051zg-2>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-2,lower-roman) ". "}ol.lst-kix_7hetn5n051zg-3.start{counter-reset:lst-ctn-kix_7hetn5n051zg-3 0}.lst-kix_7hetn5n051zg-7>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-7,lower-latin) ". "}.lst-kix_7hetn5n051zg-5>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-5,lower-roman) ". "}.lst-kix_7hetn5n051zg-4>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-4,lower-latin) ". "}.lst-kix_7hetn5n051zg-8>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-8,lower-roman) ". "}.lst-kix_bci3oiuwkgc-1>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-1}ol.lst-kix_dakvykoyedsh-5.start{counter-reset:lst-ctn-kix_dakvykoyedsh-5 0}.lst-kix_bci3oiuwkgc-7>li{counter-increment:lst-ctn-kix_bci3oiuwkgc-7}.lst-kix_7hetn5n051zg-6>li:before{content:"" counter(lst-ctn-kix_7hetn5n051zg-6,decimal) ". "}.lst-kix_dakvykoyedsh-2>li{counter-increment:lst-ctn-kix_dakvykoyedsh-2}.lst-kix_7hetn5n051zg-5>li{counter-increment:lst-ctn-kix_7hetn5n051zg-5}.lst-kix_7hetn5n051zg-2>li{counter-increment:lst-ctn-kix_7hetn5n051zg-2}.lst-kix_dakvykoyedsh-5>li{counter-increment:lst-ctn-kix_dakvykoyedsh-5}ol.lst-kix_dakvykoyedsh-4.start{counter-reset:lst-ctn-kix_dakvykoyedsh-4 0}.lst-kix_dakvykoyedsh-8>li{counter-increment:lst-ctn-kix_dakvykoyedsh-8}ol.lst-kix_7hetn5n051zg-2.start{counter-reset:lst-ctn-kix_7hetn5n051zg-2 0}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_7hetn5n051zg-8>li{counter-increment:lst-ctn-kix_7hetn5n051zg-8}ol{margin:0;padding:0}table td,table th{padding:0}.c19{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;background-color:#333333;border-left-style:solid;border-bottom-width:0pt;width:468pt;border-top-color:#000000;border-bottom-style:solid}.c0{margin-left:108pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c6{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c15{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c18{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial"}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;height:11pt}.c17{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c8{border-spacing:0;border-collapse:collapse;margin-right:auto}.c12{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c14{font-weight:400;font-family:"Courier New"}.c9{margin-left:36pt;padding-left:0pt}.c10{background-color:#333333;color:#d36363}.c5{margin-left:72pt;padding-left:0pt}.c11{padding:0;margin:0}.c1{background-color:#333333;color:#ffffff}.c20{height:0pt}.c13{font-weight:700}.c7{height:11pt}.c3{font-style:italic}.c16{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c12"><p class="c4"><span class="c6">Welcome to Monospace Laravel challenge.</span></p><p class="c4 c7"><span class="c6"></span></p><p class="c4"><span class="c6">The goal is to create a RESTful api for a simplified maritime application, using Laravel and PostgreSQL.</span></p><p class="c4"><span>Through this challenge, you will be able to demonstrate how you break down and solve a problem, how you </span><span class="c13">structure</span><span class="c6">&nbsp;code and finally, some basic and intermediate SQL skills. You are also expected to make commits with verbose messages that reveal the committed code functionality.</span></p><p class="c4"><span class="c6">The application consists of 3 basic entities:</span></p><ol class="c11 lst-kix_bci3oiuwkgc-0 start" start="1"><li class="c4 c9 li-bullet-0"><span>The base entity, the vessel (</span><span class="c14">vessels db table</span><span class="c6">). Each vessel has a name and an IMO number.</span></li><li class="c4 c9 li-bullet-0"><span>The voyage (</span><span class="c14">voyages db table</span><span class="c6">). Each voyage is carried out by a single vessel. For every voyage we keep the vessel, the starting and ending date and time, the status and the revenues and expenses.</span></li><li class="c4 c9 li-bullet-0"><span>The operational expenses (</span><span class="c14">vessel_opex db table</span><span class="c6">) of every vessel. We keep the expenses for every vessel for every day.</span></li></ol><p class="c4 c7"><span class="c6"></span></p><p class="c4"><span class="c6">Implementation Guidelines</span></p><p class="c4 c7"><span class="c13 c15"></span></p><p class="c4"><span class="c6">We want you to implement a REST API using the Laravel framework. The API will communicate with its clients using JSON objects (so no blade views are needed).</span></p><p class="c4"><span class="c6">Please use the Service-Repository pattern. Place all the business logic in services and data access in repositories. When needed, format your responses using the Resource mechanism provided by the framework.</span></p><p class="c4 c7"><span class="c6"></span></p><p class="c4"><span class="c6">We recommend using the following DB structure, though you are free to modify it as you see fit.</span></p><p class="c4 c7"><span class="c6"></span></p><ol class="c11 lst-kix_7hetn5n051zg-0 start" start="1"><li class="c4 c9 li-bullet-0"><span class="c6">vessels</span></li></ol><ol class="c11 lst-kix_7hetn5n051zg-1 start" start="1"><li class="c4 c5 li-bullet-0"><span class="c6">id - autoincrement</span></li><li class="c4 c5 li-bullet-0"><span class="c6">name - string</span></li><li class="c4 c5 li-bullet-0"><span class="c6">IMO number - string</span></li></ol><ol class="c11 lst-kix_7hetn5n051zg-0" start="2"><li class="c4 c9 li-bullet-0"><span class="c6">voyages</span></li></ol><ol class="c11 lst-kix_7hetn5n051zg-1 start" start="1"><li class="c4 c5 li-bullet-0"><span class="c6">id - autoincrement</span></li><li class="c4 c5 li-bullet-0"><span class="c6">vessel_id</span></li><li class="c4 c5 li-bullet-0"><span class="c6">code - string</span></li><li class="c4 c5 li-bullet-0"><span class="c6">start - datetime</span></li><li class="c4 c5 li-bullet-0"><span class="c6">end - datetime</span></li><li class="c4 c5 li-bullet-0"><span class="c6">status - string</span></li><li class="c4 c5 li-bullet-0"><span class="c6">revenues - decimal(8,2)</span></li><li class="c4 c5 li-bullet-0"><span class="c6">expenses - decimal(8,2)</span></li><li class="c4 c5 li-bullet-0"><span class="c6">profit - decimal(8,2)</span></li></ol><ol class="c11 lst-kix_7hetn5n051zg-0" start="3"><li class="c4 c9 li-bullet-0"><span class="c6">vessel_opex</span></li></ol><ol class="c11 lst-kix_7hetn5n051zg-1 start" start="1"><li class="c4 c5 li-bullet-0"><span class="c6">id - autoincrement</span></li><li class="c4 c5 li-bullet-0"><span class="c6">vessel_id</span></li><li class="c4 c5 li-bullet-0"><span class="c6">date - date e.g. value &lsquo;2021-01-01&rsquo; means that this record is for that specific date</span></li><li class="c4 c5 li-bullet-0"><span class="c6">expenses - decimal(8,2)</span></li></ol><p class="c4 c7"><span class="c6"></span></p><p class="c4"><span class="c6">What we expect you to create the following endpoints:</span></p><ol class="c11 lst-kix_dakvykoyedsh-0 start" start="1"><li class="c4 c9 li-bullet-0"><span class="c6">No need for any Vessels endpoints. Save your time for the next steps.</span></li><li class="c4 c9 li-bullet-0"><span class="c6">Voyages</span></li></ol><ol class="c11 lst-kix_dakvykoyedsh-1 start" start="1"><li class="c4 c5 li-bullet-0"><span>There are 3 options for the status of the voyage, </span><span class="c3">&lsquo;pending&rsquo;</span><span>, </span><span class="c3">&lsquo;ongoing&rsquo;</span><span>&nbsp;and </span><span class="c3">&lsquo;submitted&rsquo;</span><span class="c6">.</span></li><li class="c4 c5 li-bullet-0"><span>Newly created voyages need a vessel and a starting date. Status is automatically set to </span><span class="c3">&lsquo;pending&rsquo;</span><span class="c6">.</span></li><li class="c4 c5 li-bullet-0"><span>Voyage code is auto generated on voyage creation using the following formula: </span><span class="c3">&lt;vessels.name&gt;-&lt;voyages.start&gt;</span><span>. Example: </span><span class="c18 c3">Titanic-2021-01-18</span></li><li class="c4 c5 li-bullet-0"><span class="c6">Ending date, when entered, must be greater than the starting date.</span></li><li class="c4 c5 li-bullet-0"><span>A vessel cannot have two </span><span class="c3">&lsquo;ongoing&rsquo;</span><span class="c6">&nbsp;voyages at the same time. (voyage status check)</span></li><li class="c4 c5 li-bullet-0"><span>A voyage can be submitted (status to </span><span class="c3">&lsquo;submitted&rsquo;</span><span>), only if </span><span class="c3">&lsquo;start&rsquo;</span><span class="c3">, </span><span class="c3">&lsquo;end&rsquo;</span><span class="c3">, </span><span class="c3">&lsquo;revenues&rsquo;</span><span class="c3">&nbsp;</span><span>and</span><span>&nbsp;</span><span class="c3">&lsquo;expenses&rsquo;</span><span>&nbsp;are </span><span class="c3">not null</span><span class="c6">.</span></li><li class="c4 c5 li-bullet-0"><span>When submitting a voyage, you should calculate the </span><span>profit field.<br></span><span class="c18 c3">profit = revenues - expenses</span></li><li class="c4 c5 li-bullet-0"><span>A voyage that is </span><span class="c3">&lsquo;submitted&rsquo; c</span><span class="c6">annot be edited.</span></li><li class="c4 c5 li-bullet-0"><span class="c6">Endpoints:</span></li></ol><ol class="c11 lst-kix_dakvykoyedsh-2 start" start="1"><li class="c0 li-bullet-0"><span>No need to create a GET </span><span class="c3">/voyages</span></li><li class="c0 li-bullet-0"><span>POST </span><span class="c3">/voyages</span><span>&nbsp;- Create new voyage<br>Parameters: vessel_id, </span><span class="c3">start, end, revenues, expenses</span></li><li class="c0 li-bullet-0"><span>PUT </span><span class="c3">/voyages/{voyage-id}</span><span>&nbsp;- Edit a voyage<br>Parameters: </span><span class="c3">start, end, revenues, expenses, status</span><span><br>profit should be auto calculated as stated in 2.e.</span></li></ol><ol class="c11 lst-kix_dakvykoyedsh-0" start="3"><li class="c4 c9 li-bullet-0"><span class="c6">Vessel Opex - A vessel cannot have two different opex amounts for the same date.</span></li></ol><ol class="c11 lst-kix_dakvykoyedsh-1 start" start="1"><li class="c4 c5 li-bullet-0"><span class="c6">No need for a GET request. Save your time for the next steps.</span></li><li class="c4 c5 li-bullet-0"><span>POST </span><span class="c3">/vessels/{vessel-id}/vessel-opex</span><span><br>Request body parameters:</span><span>&nbsp;</span><span class="c3">date, expenses</span></li></ol><ol class="c11 lst-kix_dakvykoyedsh-0" start="4"><li class="c4 c9 li-bullet-0"><span>GET </span><span class="c3">/vessels/{vessel-id}/financial-report</span><span><br>This endpoint serves a report that combines voyage revenues, expenses as well as operational costs for all voyages of a vessel. We prefer an SQL implementation.<br>It calculates the following for every voyage:</span></li></ol><ol class="c11 lst-kix_dakvykoyedsh-1 start" start="1"><li class="c4 c5 li-bullet-0"><span class="c18 c3">daily average profit = voyage profit / voyage duration</span></li><li class="c4 c5 li-bullet-0"><span class="c3">net profit (profit including vessel expenses) = voyage profit - vessel expenses</span><span>&nbsp;</span><span class="c13">Be careful!</span><span>&nbsp;</span><span class="c6">Vessel expenses for the whole voyage duration must be taken into account.</span></li><li class="c4 c5 li-bullet-0"><span class="c3 c18">daily average net profit (average daily profit including vessel expenses) = profit including vessel expenses / voyage duration</span></li></ol><p class="c4 c16"><span class="c6">The response format should resemble like the following:</span></p><p class="c4 c7 c16"><span class="c6"><br></span></p><a id="t.1c27b942bb623ff78a5dd5c9f20a8624c9714911"></a><a id="t.0"></a><table class="c8"><tbody><tr class="c20"><td class="c19" colspan="1" rowspan="1"><p class="c17"><span class="c1">[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;voyage_id&quot;: </span><span class="c10">8</span><span class="c1">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;start&quot;: &#39;</span><span class="c10">2020-09-01</span><span class="c1">&nbsp;</span><span class="c10">00</span><span class="c1">:</span><span class="c10">00</span><span class="c1">:</span><span class="c10">00</span><span class="c1">&#39;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;end&quot;: &#39;</span><span class="c10">2020-12-31</span><span class="c1">&nbsp;</span><span class="c10">23</span><span class="c1">:</span><span class="c10">59</span><span class="c1">:</span><span class="c10">59</span><span class="c1">&#39;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;voyage_revenues&quot;: </span><span class="c10">1409304.26</span><span class="c1">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;voyage_expenses&quot;: </span><span class="c10">750244.04</span><span class="c1">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;voyage_profit&quot;: </span><span class="c10">659060.22</span><span class="c1">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;voyage_profit_daily_average&quot;: </span><span class="c10">7242.42</span><span class="c1">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;vessel_expenses_total&quot;: </span><span class="c10">234790.92</span><span class="c1">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;net_profit&quot;: </span><span class="c10">424269.3</span><span class="c1">,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;net_profit_daily_average&quot;: </span><span class="c10">4662.3</span><span class="c1"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>]</span></p></td></tr></tbody></table><p class="c2"><span class="c6"></span></p><ol class="c11 lst-kix_dakvykoyedsh-0" start="5"><li class="c4 c9 li-bullet-0"><span class="c6">***Bonus - Do this ONLY if you have everything else completed.</span></li></ol><ol class="c11 lst-kix_dakvykoyedsh-1 start" start="1"><li class="c4 c5 li-bullet-0"><span class="c6">When updating the name of a vessel, trigger an update for all voyages of the updated vessel.</span></li><li class="c4 c5 li-bullet-0"><span class="c6">When updating the starting date of a voyage, auto update its code.</span></li></ol><p class="c2"><span class="c6"></span></p><p class="c17"><span class="c6">Good Luck!</span></p></body></html>